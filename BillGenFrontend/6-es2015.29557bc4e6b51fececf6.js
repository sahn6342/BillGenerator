(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{R1GA:function(t,e,r){"use strict";r.r(e);var s=r("ofXK"),o=r("fXoL"),n=r("tyNb");const c=function(){return["./add-update"]};let b=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Db({type:t,selectors:[["app-customer"]],decls:3,vars:2,consts:[["routerLinkActive","router-link-active",3,"routerLink"]],template:function(t,e){1&t&&(o.Mb(0,"button",0),o.dc(1,"Add"),o.Lb(),o.Kb(2,"router-outlet")),2&t&&o.Wb("routerLink",o.Xb(1,c))},directives:[n.d,n.c,n.f],styles:[""]}),t})();var i=r("AytR"),u=r("tk/3");const d=function(t){return["./add-update",t]};function a(t,e){if(1&t&&(o.Mb(0,"tr"),o.Mb(1,"td"),o.dc(2),o.Lb(),o.Mb(3,"td"),o.dc(4),o.Lb(),o.Mb(5,"td"),o.dc(6),o.Lb(),o.Mb(7,"td"),o.dc(8),o.Lb(),o.Mb(9,"td"),o.dc(10),o.Lb(),o.Mb(11,"td"),o.Mb(12,"button",5),o.dc(13,"Edit"),o.Lb(),o.Lb(),o.Lb()),2&t){const t=e.$implicit,r=e.index;o.zb(2),o.ec(r+1),o.zb(2),o.ec(t.name),o.zb(2),o.ec(t.address),o.zb(2),o.ec(t.ratePerBottle),o.zb(2),o.ec(t.rentPerDispenser),o.zb(2),o.Wb("routerLink",o.Yb(6,d,t._id))}}function m(t,e){if(1&t&&(o.Mb(0,"table",3),o.Mb(1,"tr"),o.Mb(2,"th"),o.dc(3,"S.no"),o.Lb(),o.Mb(4,"th"),o.dc(5,"Name"),o.Lb(),o.Mb(6,"th"),o.dc(7,"Address"),o.Lb(),o.Mb(8,"th"),o.dc(9,"Water bottle rate(20L)"),o.Lb(),o.Mb(10,"th"),o.dc(11,"Dispenser rate"),o.Lb(),o.Kb(12,"th"),o.Lb(),o.cc(13,a,14,8,"tr",4),o.Lb()),2&t){const t=o.Vb();o.zb(13),o.Wb("ngForOf",t.customersList)}}let l=(()=>{class t{constructor(t){this.httpClient=t,this.customersList=[]}ngOnInit(){this.getCustomers()}getCustomers(){this.httpClient.get(i.a.serverUrl+"customers").subscribe(t=>{this.customersList=t.data,console.log(this.customersList)})}delete(t){this.httpClient.post(i.a.serverUrl+"deleteCustomer",{id:t}).subscribe(t=>{this.getCustomers()},t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(o.Jb(u.a))},t.\u0275cmp=o.Db({type:t,selectors:[["app-customer-list"]],decls:3,vars:1,consts:[[1,"row","center"],[1,"col-md-6"],["class"," table",4,"ngIf"],[1,"table"],[4,"ngFor","ngForOf"],["routerLinkActive","router-link-active",3,"routerLink"]],template:function(t,e){1&t&&(o.Mb(0,"div",0),o.Mb(1,"div",1),o.cc(2,m,14,1,"table",2),o.Lb(),o.Lb()),2&t&&(o.zb(2),o.Wb("ngIf",e.customersList.length>0))},directives:[s.j,s.i,n.d,n.c],styles:[""]}),t})();var p=r("3Pt+");let h=(()=>{class t{constructor(t,e,r){this.httpClient=t,this.router=e,this.route=r}ngOnInit(){this.route.params.subscribe(t=>{t&&t.id&&this.httpClient.get(i.a.serverUrl+"customer/"+t.id).subscribe(t=>{console.log(t),this.customerForm.get("customerFormGroup").addControl("_id",new p.d(t._id)),this.customerId=t._id,this.patchFormValues(t)})}),this.customerForm=new p.f({customerFormGroup:new p.f({name:new p.d(""),address:new p.d(""),ratePerBottle:new p.d(0),rentPerDispenser:new p.d(0)})})}save(){this.customerId?this.httpClient.put(i.a.serverUrl+"customer",this.customerForm.value.customerFormGroup).subscribe(t=>{console.log(t),t.success&&(this.customerForm.reset(),alert(t.message),this.router.navigate(["/modules/customers/"]))}):this.httpClient.post(i.a.serverUrl+"customer",this.customerForm.value.customerFormGroup).subscribe(t=>{console.log(t),t.success&&(this.customerForm.reset(),alert(t.message),this.router.navigate(["/modules/customers/"]))})}patchFormValues(t){this.customerForm.get("customerFormGroup").patchValue({name:t.name,address:t.address,ratePerBottle:t.ratePerBottle,rentPerDispenser:t.rentPerDispenser})}}return t.\u0275fac=function(e){return new(e||t)(o.Jb(u.a),o.Jb(n.b),o.Jb(n.a))},t.\u0275cmp=o.Db({type:t,selectors:[["app-customer-form"]],decls:26,vars:1,consts:[[1,"row"],[1,"col-md-6"],["id","demo",3,"formGroup","ngSubmit"],["formGroupName","customerFormGroup"],["type","text","id","name","formControlName","name"],["type","text","id","address","formControlName","address"],["type","number","id","ratePerBottle","formControlName","ratePerBottle"],["type","number","id","rentPerDispenser","formControlName","rentPerDispenser"],["type","submit",1,"btn","btn-success"]],template:function(t,e){1&t&&(o.Mb(0,"div",0),o.Mb(1,"div",1),o.Mb(2,"form",2),o.Tb("ngSubmit",(function(){return e.save()})),o.Mb(3,"table",3),o.Mb(4,"tr"),o.Mb(5,"td"),o.dc(6,"Name"),o.Lb(),o.Mb(7,"td"),o.Kb(8,"input",4),o.Lb(),o.Lb(),o.Mb(9,"tr"),o.Mb(10,"td"),o.dc(11,"Address"),o.Lb(),o.Mb(12,"td"),o.Kb(13,"input",5),o.Lb(),o.Lb(),o.Mb(14,"tr"),o.Mb(15,"td"),o.dc(16,"Water bottle rate(20L)"),o.Lb(),o.Mb(17,"td"),o.Kb(18,"input",6),o.Lb(),o.Lb(),o.Mb(19,"tr"),o.Mb(20,"td"),o.dc(21,"Dispenser rate"),o.Lb(),o.Mb(22,"td"),o.Kb(23,"input",7),o.Lb(),o.Lb(),o.Lb(),o.Mb(24,"button",8),o.dc(25,"Add"),o.Lb(),o.Lb(),o.Lb(),o.Lb()),2&t&&(o.zb(2),o.Wb("formGroup",e.customerForm))},directives:[p.o,p.k,p.g,p.h,p.a,p.j,p.e,p.l],styles:[""]}),t})();r.d(e,"CustomerModule",(function(){return f}));const L=[{path:"",component:b,children:[{path:"",component:l,pathMatch:"full"},{path:"add-update",component:h},{path:"add-update/:id",component:h}]}];let f=(()=>{class t{}return t.\u0275mod=o.Hb({type:t}),t.\u0275inj=o.Gb({factory:function(e){return new(e||t)},imports:[[s.b,n.e.forChild(L),p.m]]}),t})()}}]);